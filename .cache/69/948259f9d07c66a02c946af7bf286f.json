{"id":"../src/router.ts","dependencies":[{"name":"/home/ray/Desktop/Router/package.json","includedInParent":true,"mtime":1595186753722},{"name":"./communication","loc":{"line":4,"column":30},"parent":"/home/ray/Desktop/Router/src/router.ts","resolved":"/home/ray/Desktop/Router/src/communication/index.ts"},{"name":"./route","loc":{"line":5,"column":22},"parent":"/home/ray/Desktop/Router/src/router.ts","resolved":"/home/ray/Desktop/Router/src/route.ts"},{"name":"path-to-regexp","loc":{"line":6,"column":31},"parent":"/home/ray/Desktop/Router/src/router.ts","resolved":"/home/ray/Desktop/Router/node_modules/path-to-regexp/dist.es2015/index.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Router = void 0;\n\nvar communication_1 = require(\"./communication\");\n\nvar route_1 = require(\"./route\");\n\nvar path_to_regexp_1 = require(\"path-to-regexp\"); // todo implement singleton or throw error on new if router registered\n\n\nvar Router =\n/** @class */\nfunction () {\n  function Router() {\n    this.routes = [];\n    this.request = communication_1.Request;\n  }\n\n  Router.prototype.registerRoutes = function (routes) {\n    var _this = this; // todo see how we implement match\n    // should order of the routes be case\n    // trim last slash\n\n\n    var routesClasses = routes.map(function (routeDeclaration) {\n      return new route_1.Route(routeDeclaration);\n    });\n    this.routes = routesClasses;\n    /**\n     * When user lands first time on the page\n     * Next url changes will be fired with event throught Link component so we can catch path change event\n     */\n\n    this.findRoute(); // todo clean up event listener on desctruction\n\n    window.addEventListener(\"popstate\", function () {\n      return _this.findRoute();\n    });\n  };\n\n  Router.prototype.findRoute = function () {\n    var currentPath = this.request.getPath();\n\n    for (var _i = 0, _a = this.routes; _i < _a.length; _i++) {\n      var route = _a[_i];\n\n      if (route.equals(currentPath)) {\n        route.callCallback(currentPath);\n        break;\n      }\n    }\n  };\n\n  Router.prototype.go = function (_a) {\n    var _b = _a.name,\n        name = _b === void 0 ? \"\" : _b,\n        _c = _a.path,\n        path = _c === void 0 ? \"\" : _c,\n        _d = _a.params,\n        params = _d === void 0 ? {} : _d;\n\n    for (var _i = 0, _e = this.routes; _i < _e.length; _i++) {\n      var route = _e[_i];\n\n      if (route.getName() !== \"\" && name !== \"\" && route.getName() === name || route.equals(path)) {\n        //@ts-ignore\n        var routeToPath = path_to_regexp_1.compile(route.getPathPattern(), {\n          encode: encodeURIComponent\n        });\n        var compiledPath = routeToPath(params);\n        communication_1.RouterResponse.redirect(compiledPath);\n      }\n    }\n  };\n\n  return Router;\n}();\n\nexports.Router = Router;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/router.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":8,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":8,"column":4}},{"source":"../src/router.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":8,"column":19}},{"source":"../src/router.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":8,"column":22}},{"source":"../src/router.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":8,"column":29}},{"source":"../src/router.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":8,"column":30}},{"source":"../src/router.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":8,"column":47}},{"source":"../src/router.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":8,"column":48}},{"source":"../src/router.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":4}},{"source":"../src/router.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":11}},{"source":"../src/router.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":14}},{"source":"../src/router.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":21}},{"source":"../src/router.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":22}},{"source":"../src/router.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":31}},{"source":"../src/router.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":10,"column":32}},{"source":"../src/router.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":4}},{"source":"../src/router.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":20}},{"source":"../src/router.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":23}},{"source":"../src/router.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":30}},{"source":"../src/router.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":31}},{"source":"../src/router.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":47}},{"source":"../src/router.ts","name":null,"original":{"line":7,"column":0},"generated":{"line":12,"column":48}},{"source":"../src/router.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":12,"column":50}},{"source":"../src/router.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":15,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":15,"column":4}},{"source":"../src/router.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":15,"column":10}},{"source":"../src/router.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":16,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":17,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":17,"column":12}},{"source":"../src/router.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":18,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":18,"column":11}},{"source":"../src/router.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":18,"column":17}},{"source":"../src/router.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":18,"column":20}},{"source":"../src/router.ts","name":null,"original":{"line":11,"column":12},"generated":{"line":19,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":11,"column":12},"generated":{"line":19,"column":9}},{"source":"../src/router.ts","name":null,"original":{"line":11,"column":12},"generated":{"line":19,"column":15}},{"source":"../src/router.ts","name":null,"original":{"line":11,"column":39},"generated":{"line":19,"column":18}},{"source":"../src/router.ts","name":null,"original":{"line":11,"column":12},"generated":{"line":19,"column":20}},{"source":"../src/router.ts","name":null,"original":{"line":12,"column":12},"generated":{"line":20,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":12,"column":12},"generated":{"line":20,"column":9}},{"source":"../src/router.ts","name":null,"original":{"line":12,"column":12},"generated":{"line":20,"column":16}},{"source":"../src/router.ts","name":null,"original":{"line":12,"column":22},"generated":{"line":20,"column":19}},{"source":"../src/router.ts","name":null,"original":{"line":12,"column":22},"generated":{"line":20,"column":34}},{"source":"../src/router.ts","name":null,"original":{"line":12,"column":22},"generated":{"line":20,"column":35}},{"source":"../src/router.ts","name":null,"original":{"line":12,"column":12},"generated":{"line":20,"column":42}},{"source":"../src/router.ts","name":null,"original":{"line":57,"column":1},"generated":{"line":21,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":23,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":23,"column":2}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":23,"column":8}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":23,"column":9}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":23,"column":18}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":23,"column":19}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":23,"column":33}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":23,"column":36}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":24},"generated":{"line":23,"column":46}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":23,"column":52}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":59},"generated":{"line":23,"column":54}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":24,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":24,"column":8}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":24,"column":13}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":24,"column":16}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":24,"column":20}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":59},"generated":{"line":24,"column":21}},{"source":"../src/router.ts","name":null,"original":{"line":15,"column":4},"generated":{"line":24,"column":22}},{"source":"../src/router.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":25,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":26,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":29,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":29,"column":8}},{"source":"../src/router.ts","name":null,"original":{"line":18,"column":23},"generated":{"line":29,"column":21}},{"source":"../src/router.ts","name":null,"original":{"line":18,"column":26},"generated":{"line":29,"column":24}},{"source":"../src/router.ts","name":null,"original":{"line":18,"column":32},"generated":{"line":29,"column":30}},{"source":"../src/router.ts","name":null,"original":{"line":18,"column":33},"generated":{"line":29,"column":31}},{"source":"../src/router.ts","name":null,"original":{"line":18,"column":26},"generated":{"line":29,"column":34}},{"source":"../src/router.ts","name":null,"original":{"line":19,"column":6},"generated":{"line":29,"column":35}},{"source":"../src/router.ts","name":null,"original":{"line":19,"column":7},"generated":{"line":29,"column":45}},{"source":"../src/router.ts","name":null,"original":{"line":19,"column":6},"generated":{"line":29,"column":61}},{"source":"../src/router.ts","name":null,"original":{"line":19,"column":23},"generated":{"line":29,"column":63}},{"source":"../src/router.ts","name":null,"original":{"line":19,"column":28},"generated":{"line":30,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":19,"column":28},"generated":{"line":30,"column":13}},{"source":"../src/router.ts","name":null,"original":{"line":19,"column":32},"generated":{"line":30,"column":17}},{"source":"../src/router.ts","name":null,"original":{"line":19,"column":32},"generated":{"line":30,"column":24}},{"source":"../src/router.ts","name":null,"original":{"line":19,"column":32},"generated":{"line":30,"column":25}},{"source":"../src/router.ts","name":null,"original":{"line":19,"column":28},"generated":{"line":30,"column":30}},{"source":"../src/router.ts","name":null,"original":{"line":19,"column":38},"generated":{"line":30,"column":31}},{"source":"../src/router.ts","name":null,"original":{"line":19,"column":28},"generated":{"line":30,"column":47}},{"source":"../src/router.ts","name":null,"original":{"line":19,"column":28},"generated":{"line":30,"column":48}},{"source":"../src/router.ts","name":null,"original":{"line":19,"column":55},"generated":{"line":31,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":18,"column":26},"generated":{"line":31,"column":5}},{"source":"../src/router.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":31,"column":6}},{"source":"../src/router.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":32,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":21,"column":9},"generated":{"line":32,"column":9}},{"source":"../src/router.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":32,"column":15}},{"source":"../src/router.ts","name":null,"original":{"line":21,"column":18},"generated":{"line":32,"column":18}},{"source":"../src/router.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":32,"column":31}},{"source":"../src/router.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":33,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":38,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":26,"column":9},"generated":{"line":38,"column":9}},{"source":"../src/router.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":38,"column":18}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":59},"generated":{"line":38,"column":21}},{"source":"../src/router.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":38,"column":22}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":40,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":40,"column":4}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":10},"generated":{"line":40,"column":10}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":11},"generated":{"line":40,"column":11}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":40,"column":27}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":28},"generated":{"line":40,"column":28}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":40,"column":38}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":40},"generated":{"line":40,"column":40}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":40},"generated":{"line":40,"column":52}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":46},"generated":{"line":41,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":46},"generated":{"line":41,"column":13}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":50},"generated":{"line":41,"column":18}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":51},"generated":{"line":41,"column":19}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":46},"generated":{"line":41,"column":28}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":46},"generated":{"line":41,"column":30}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":62},"generated":{"line":42,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":42,"column":5}},{"source":"../src/router.ts","name":null,"original":{"line":30,"column":3},"generated":{"line":43,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":14,"column":9},"generated":{"line":43,"column":3}},{"source":"../src/router.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":45,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":45,"column":2}},{"source":"../src/router.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":45,"column":8}},{"source":"../src/router.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":45,"column":9}},{"source":"../src/router.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":45,"column":18}},{"source":"../src/router.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":45,"column":19}},{"source":"../src/router.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":45,"column":28}},{"source":"../src/router.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":45,"column":31}},{"source":"../src/router.ts","name":null,"original":{"line":32,"column":2},"generated":{"line":45,"column":43}},{"source":"../src/router.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":46,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":46,"column":8}},{"source":"../src/router.ts","name":null,"original":{"line":33,"column":19},"generated":{"line":46,"column":19}},{"source":"../src/router.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":46,"column":22}},{"source":"../src/router.ts","name":null,"original":{"line":33,"column":27},"generated":{"line":46,"column":27}},{"source":"../src/router.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":46,"column":34}},{"source":"../src/router.ts","name":null,"original":{"line":33,"column":35},"generated":{"line":46,"column":35}},{"source":"../src/router.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":46,"column":42}},{"source":"../src/router.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":46,"column":44}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":48,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":48,"column":9}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":48,"column":13}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":48,"column":15}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":48,"column":18}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":48,"column":19}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":48,"column":21}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":48,"column":23}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":48,"column":26}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":27},"generated":{"line":48,"column":31}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":48,"column":37}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":48,"column":39}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":48,"column":41}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":48,"column":44}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":48,"column":46}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":48,"column":47}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":48,"column":53}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":48,"column":55}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":48,"column":57}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":48,"column":59}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":35},"generated":{"line":48,"column":61}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":49,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":13},"generated":{"line":49,"column":10}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":49,"column":15}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":49,"column":18}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":49,"column":20}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":49,"column":21}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":49,"column":23}},{"source":"../src/router.ts","name":null,"original":{"line":34,"column":9},"generated":{"line":49,"column":24}},{"source":"../src/router.ts","name":null,"original":{"line":35,"column":6},"generated":{"line":51,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":51,"column":10}},{"source":"../src/router.ts","name":null,"original":{"line":35,"column":15},"generated":{"line":51,"column":15}},{"source":"../src/router.ts","name":null,"original":{"line":35,"column":16},"generated":{"line":51,"column":16}},{"source":"../src/router.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":51,"column":22}},{"source":"../src/router.ts","name":null,"original":{"line":35,"column":23},"generated":{"line":51,"column":23}},{"source":"../src/router.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":51,"column":34}},{"source":"../src/router.ts","name":null,"original":{"line":35,"column":6},"generated":{"line":51,"column":35}},{"source":"../src/router.ts","name":null,"original":{"line":35,"column":37},"generated":{"line":51,"column":37}},{"source":"../src/router.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":52,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":52,"column":8}},{"source":"../src/router.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":52,"column":13}},{"source":"../src/router.ts","name":null,"original":{"line":36,"column":14},"generated":{"line":52,"column":14}},{"source":"../src/router.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":52,"column":26}},{"source":"../src/router.ts","name":null,"original":{"line":36,"column":27},"generated":{"line":52,"column":27}},{"source":"../src/router.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":52,"column":38}},{"source":"../src/router.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":53,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":54,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":39,"column":5},"generated":{"line":55,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":40,"column":3},"generated":{"line":56,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":56,"column":3}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":58,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":58,"column":2}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":58,"column":8}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":58,"column":9}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":58,"column":18}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":58,"column":19}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":58,"column":21}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":58,"column":24}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":12},"generated":{"line":58,"column":34}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":2},"generated":{"line":58,"column":36}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":49},"generated":{"line":58,"column":38}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":59,"column":8}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":59,"column":10}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":59,"column":13}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":59,"column":15}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":59,"column":16}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":60,"column":8}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":18},"generated":{"line":60,"column":12}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":18},"generated":{"line":60,"column":15}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":18},"generated":{"line":60,"column":17}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":18},"generated":{"line":60,"column":22}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":18},"generated":{"line":60,"column":27}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":18},"generated":{"line":60,"column":28}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":21},"generated":{"line":60,"column":31}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":18},"generated":{"line":60,"column":33}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":23},"generated":{"line":60,"column":36}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":25},"generated":{"line":61,"column":8}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":25},"generated":{"line":61,"column":10}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":25},"generated":{"line":61,"column":13}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":25},"generated":{"line":61,"column":15}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":25},"generated":{"line":61,"column":16}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":25},"generated":{"line":62,"column":8}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":29},"generated":{"line":62,"column":12}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":29},"generated":{"line":62,"column":15}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":29},"generated":{"line":62,"column":17}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":29},"generated":{"line":62,"column":22}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":29},"generated":{"line":62,"column":27}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":29},"generated":{"line":62,"column":28}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":32},"generated":{"line":62,"column":31}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":29},"generated":{"line":62,"column":33}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":34},"generated":{"line":62,"column":36}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":36},"generated":{"line":63,"column":8}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":36},"generated":{"line":63,"column":10}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":36},"generated":{"line":63,"column":13}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":36},"generated":{"line":63,"column":15}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":36},"generated":{"line":63,"column":16}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":36},"generated":{"line":64,"column":8}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":42},"generated":{"line":64,"column":14}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":42},"generated":{"line":64,"column":17}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":42},"generated":{"line":64,"column":19}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":42},"generated":{"line":64,"column":24}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":42},"generated":{"line":64,"column":29}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":42},"generated":{"line":64,"column":30}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":45},"generated":{"line":64,"column":33}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":42},"generated":{"line":64,"column":35}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":47},"generated":{"line":64,"column":38}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":66,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":66,"column":9}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":66,"column":13}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":66,"column":15}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":66,"column":18}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":66,"column":19}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":66,"column":21}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":66,"column":23}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":66,"column":26}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":27},"generated":{"line":66,"column":31}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":66,"column":37}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":66,"column":39}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":66,"column":41}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":66,"column":44}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":66,"column":46}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":66,"column":47}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":66,"column":53}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":66,"column":55}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":22},"generated":{"line":66,"column":57}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":66,"column":59}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":35},"generated":{"line":66,"column":61}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":9},"generated":{"line":67,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":13},"generated":{"line":67,"column":10}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":67,"column":15}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":67,"column":18}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":67,"column":20}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":67,"column":21}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":67,"column":23}},{"source":"../src/router.ts","name":null,"original":{"line":43,"column":9},"generated":{"line":67,"column":24}},{"source":"../src/router.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":69,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":69,"column":10}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":14},"generated":{"line":69,"column":15}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":15},"generated":{"line":69,"column":16}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":69,"column":23}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":29},"generated":{"line":69,"column":30}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":69,"column":32}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":35},"generated":{"line":69,"column":36}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":39},"generated":{"line":69,"column":40}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":44},"generated":{"line":69,"column":45}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":69,"column":47}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":50},"generated":{"line":69,"column":51}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":55},"generated":{"line":69,"column":56}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":56},"generated":{"line":69,"column":57}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":50},"generated":{"line":69,"column":64}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":70},"generated":{"line":69,"column":71}},{"source":"../src/router.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":69,"column":75}},{"source":"../src/router.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":69,"column":79}},{"source":"../src/router.ts","name":null,"original":{"line":46,"column":13},"generated":{"line":69,"column":84}},{"source":"../src/router.ts","name":null,"original":{"line":46,"column":14},"generated":{"line":69,"column":85}},{"source":"../src/router.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":69,"column":91}},{"source":"../src/router.ts","name":null,"original":{"line":46,"column":21},"generated":{"line":69,"column":92}},{"source":"../src/router.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":69,"column":96}},{"source":"../src/router.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":69,"column":97}},{"source":"../src/router.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":69,"column":99}},{"source":"../src/router.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":70,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":71,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":14},"generated":{"line":71,"column":12}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":25},"generated":{"line":71,"column":23}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":28},"generated":{"line":71,"column":26}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":28},"generated":{"line":71,"column":42}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":28},"generated":{"line":71,"column":43}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":28},"generated":{"line":71,"column":50}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":36},"generated":{"line":71,"column":51}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":41},"generated":{"line":71,"column":56}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":42},"generated":{"line":71,"column":57}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":36},"generated":{"line":71,"column":71}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":28},"generated":{"line":71,"column":73}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":60},"generated":{"line":71,"column":75}},{"source":"../src/router.ts","name":null,"original":{"line":50,"column":10},"generated":{"line":72,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":50,"column":10},"generated":{"line":72,"column":10}},{"source":"../src/router.ts","name":null,"original":{"line":50,"column":16},"generated":{"line":72,"column":16}},{"source":"../src/router.ts","name":null,"original":{"line":50,"column":18},"generated":{"line":72,"column":18}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":60},"generated":{"line":73,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":28},"generated":{"line":73,"column":9}},{"source":"../src/router.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":73,"column":10}},{"source":"../src/router.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":74,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":52,"column":14},"generated":{"line":74,"column":12}},{"source":"../src/router.ts","name":null,"original":{"line":52,"column":26},"generated":{"line":74,"column":24}},{"source":"../src/router.ts","name":null,"original":{"line":52,"column":29},"generated":{"line":74,"column":27}},{"source":"../src/router.ts","name":null,"original":{"line":52,"column":40},"generated":{"line":74,"column":38}},{"source":"../src/router.ts","name":null,"original":{"line":52,"column":41},"generated":{"line":74,"column":39}},{"source":"../src/router.ts","name":null,"original":{"line":52,"column":40},"generated":{"line":74,"column":45}},{"source":"../src/router.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":74,"column":46}},{"source":"../src/router.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":75,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":75,"column":8}},{"source":"../src/router.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":75,"column":23}},{"source":"../src/router.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":75,"column":24}},{"source":"../src/router.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":75,"column":38}},{"source":"../src/router.ts","name":null,"original":{"line":53,"column":23},"generated":{"line":75,"column":39}},{"source":"../src/router.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":75,"column":47}},{"source":"../src/router.ts","name":null,"original":{"line":53,"column":32},"generated":{"line":75,"column":48}},{"source":"../src/router.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":75,"column":60}},{"source":"../src/router.ts","name":null,"original":{"line":54,"column":7},"generated":{"line":76,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":55,"column":5},"generated":{"line":77,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":56,"column":3},"generated":{"line":78,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":78,"column":3}},{"source":"../src/router.ts","name":null,"original":{"line":57,"column":0},"generated":{"line":80,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":57,"column":0},"generated":{"line":80,"column":9}},{"source":"../src/router.ts","name":null,"original":{"line":57,"column":0},"generated":{"line":80,"column":15}},{"source":"../src/router.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":81,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":81,"column":1}},{"source":"../src/router.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":81,"column":3}},{"source":"../src/router.ts","name":null,"original":{"line":59,"column":9},"generated":{"line":83,"column":0}},{"source":"../src/router.ts","name":null,"original":{"line":59,"column":9},"generated":{"line":83,"column":7}},{"source":"../src/router.ts","name":null,"original":{"line":59,"column":9},"generated":{"line":83,"column":8}},{"source":"../src/router.ts","name":null,"original":{"line":59,"column":9},"generated":{"line":83,"column":14}},{"source":"../src/router.ts","name":null,"original":{"line":59,"column":9},"generated":{"line":83,"column":17}},{"source":"../src/router.ts","name":null,"original":{"line":59,"column":9},"generated":{"line":83,"column":23}}],"sources":{"../src/router.ts":"import { RouteInterface } from \"./interfaces/route-interface\";\nimport { RouteDeclarationInterface } from \"./interfaces/route-declaration-interface\";\n\nimport { Request, RouterResponse } from \"./communication\";\nimport { Route } from \"./route\";\n\nimport { compile } from \"path-to-regexp\";\n\n// todo implement singleton or throw error on new if router registered\nclass Router {\n  protected routes: RouteInterface[] = [];\n  protected request = Request;\n\n  public registerRoutes(routes: RouteDeclarationInterface[]) {\n    // todo see how we implement match\n    // should order of the routes be case\n    // trim last slash\n    const routesClasses = routes.map(\n      (routeDeclaration) => new Route(routeDeclaration)\n    );\n    this.routes = routesClasses;\n    /**\n     * When user lands first time on the page\n     * Next url changes will be fired with event throught Link component so we can catch path change event\n     */\n    this.findRoute();\n\n    // todo clean up event listener on desctruction\n    window.addEventListener(\"popstate\", () => this.findRoute());\n  }\n\n  protected findRoute() {\n    let currentPath = this.request.getPath();\n    for (let route of this.routes) {\n      if (route.equals(currentPath)) {\n        route.callCallback(currentPath);\n        break;\n      }\n    }\n  }\n\n  public go({ name = \"\", path = \"\", params = {} }) {\n    for (let route of this.routes) {\n      if (\n        (route.getName() !== \"\" && name !== \"\" && route.getName() === name) ||\n        route.equals(path)\n      ) {\n        //@ts-ignore\n        const routeToPath = compile(route.getPathPattern(), {\n          encode: encodeURIComponent,\n        });\n        const compiledPath = routeToPath(params);\n        RouterResponse.redirect(compiledPath);\n      }\n    }\n  }\n}\n\nexport { Router };\n"},"lineCount":null}},"error":null,"hash":"eca285b6a5a2b3f344a3d9316988afb3","cacheData":{"env":{}}}